# Development History

Each directory is a phase of work, in order.

| # | Phase | Status | Summary |
|---|-------|--------|---------|
| 01 | Noodling | **done** | 5 idea sketches, 10 decision points, 8 explorations. Concluded: chat-spec is a protocol distributed as a GitHub repo. The README is the landing page, PROTOCOL.md is the product. |
| 02 | Protocol design | **done** | 9 design explorations (DQ0-DQ8): spec-writing principles (research-grounded), session model, state/memory, manifest schema, rubric design, first-run, subsequent-runs, protocol document structure, README structure. |
| 03 | Build | **done** | Synthesized explorations into deliverables: PROTOCOL.md, RUBRICS.md, README.md. Blank-slate tested and dogfooded. |
| 04 | Rubric redesign | **done** | Rubrics had a new-doc bias — measured completeness but couldn't detect problems in existing docs (verbosity, staleness, code restatement). Reframed questions toward value, boosted `current` W:1→W:2, added universal penalty items (`code_restatement` -2, `contradictions` -3). Research-grounded (see `research/ai-doc-quality.md`). |
| 05 | Guidance layer | **done** | Added `guidance/` directory with research-distilled writing guides (`ai-doc-quality.md`). Added guidance references near the top of PROTOCOL.md and RUBRICS.md. Added repo URL and update mechanism (Section 10) so cached copies can be refreshed without AIs rewriting from memory. |
| 06 | Architecture guidance | **done** | Added `guidance/architecture-specs.md` — writing guide for architecture docs that help AI tools. Research-grounded (AGENTbench, Codified Context paper, ADR practices). Key finding: decision rationale in ADR format is highest-value; component listings are ignored or harmful. Also fixed INDEX.md (missing `dev-context.md` entry). |
| 07 | Conventions guidance | **done** | Added `guidance/conventions.md` — writing guide for conventions/coding-standards specs. Research-grounded (AGENTS.md study: 28.6% task time reduction; Codified Context paper: stale conventions cause silent failures). Key finding: linter-enforceable rules don't belong; human-judgment conventions (architectural patterns, library choices, naming with project meaning) are what AI agents need. |
| 08 | Features guidance | **done** | Added `guidance/features.md` — writing guide for feature specs. Research-grounded (Codified Context: >50% of effective spec content is domain facts; AGENTbench: feature lists hurt -2-3%; GitHub 2,500-repo study: agents drift without scope boundaries). Key finding: document *why* features exist and *how* they interact, not *what* they do — agents discover functionality through exploration. |
| 09 | Data model guidance | **done** | Added `guidance/data-model.md` — writing guide for data model specs. Research-grounded (Tiger Data: semantic descriptions improved text-to-SQL from 58% to 86%; Augment Code: data model mismatches are leading cause of AI production outages; Codified Context: stale entity docs cause incorrect wiring). Key finding: agents read schemas directly — document only what schemas can't express: business terms, implicit relationships, denormalisation rationale, state machines, soft-delete conventions. |
| 09 | Deployment guidance | **done** | Added `guidance/deployment.md` — writing guide for deployment specs. Research-grounded (NSync: agents achieve 0.49 accuracy reconciling drift; Moltbook: agents disable security without constraints; Twelve-Factor App: env differences cause prod failures). Key finding: IaC is self-documenting — deployment docs help only when they add what config files cannot: environment rationale, manual steps, security invariants, multi-step rollback, prescriptive monitoring thresholds. |
| 10 | API docs guidance | **done** | Added `guidance/api-docs.md` — writing guide for API documentation that AI agents consume. Research-grounded (arXiv:2407.09726: 50%+ failures are hallucinated endpoints; Anthropic/OpenAI: examples highest-leverage; AX research: descriptions are primary routing signal). Key finding: agents select endpoints via semantic matching on descriptions — document scopes, side effects, and implicit validation, not schema types. |
